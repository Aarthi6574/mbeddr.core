package com.mbeddr.core.debug.test.runtime.m1;

/*Generated by MPS */

import com.mbeddr.core.debug.debugger.IMSession;
import com.google.inject.name.Named;
import jetbrains.mps.smodel.SModel;

public class TRSessionNotAttachedStateImpl extends TRAbstractSessionStateImpl {
  private static int TIMEOUT = 5000;

  public TRSessionNotAttachedStateImpl(ITRProgramState programStateManager, ITRBreakpointRegistry breakpointManager, ITRStepper stepperm, IMSession mSession, @Named("binaryPath") String binaryPath, @Named("tracePath") String tracePath, SModel model, ITRSessionStateContext context) {
    super(programStateManager, breakpointManager, stepperm, mSession, binaryPath, tracePath, model, context);
  }

  @Override
  public void attach() throws TRSessionFailedException {
    mSession.attach(model, binaryPath, tracePath, TIMEOUT);
  }

  @Override
  public void debuggerAttached() {
    context.setState(new TRSessionAttachedStateImpl(programStateManager, breakpointManager, stepper, mSession, binaryPath, tracePath, model, context));
  }
}
