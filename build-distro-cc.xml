<project name="com.mbeddr.cc dsitribution" default="build-distro">
 
  <taskdef name="registerZip" classname="com.mbeddr.util.RegisterZipTask"/>
  <taskdef name="createHtml" classname="com.mbeddr.util.AntHtmlTask"/>
	
  <target name="build-distro">

 	  <property name="path" value="distros/cc/"/>
	  <mkdir dir="${path}"/>
	  <delete includeemptydirs="true">
          <fileset dir="${path}" includes="**/*"/>
      </delete>
      	  
	  <registerZip file="mbeddr.requirements-${version}.zip" desc="mbeddr.requirements" dependsOn="mbeddr.core" docs="userguide_mbeddr.cc.pdf"/>
      <zip destfile="${path}/mbeddr.requirements-${version}.zip">
          <zipfileset dir="code/languages/com.mbeddr.cc/languages/com.mbeddr.cc.requirements" 
				prefix="mbeddr/cc/languages/com.mbeddr.cc.requirements"/>
          <zipfileset dir="code/languages/com.mbeddr.cc/languages/com.mbeddr.cc.trace" 
				prefix="mbeddr/cc/languages/com.mbeddr.cc.trace"/>
          <zipfileset dir="code/languages/com.mbeddr.cc/devkits/com.mbeddr.cc.reqtrace" 
				prefix="mbeddr/cc/devkits/com.mbeddr.cc.reqtrace"/>
	  </zip>

	  
	  <registerZip file="mbeddr.variability-${version}.zip" desc="mbeddr.variability" dependsOn="mbeddr.core" docs="userguide_mbeddr.cc.pdf"/>
      <zip destfile="${path}/mbeddr.variability-${version}.zip">
          <zipfileset dir="code/languages/com.mbeddr.cc/languages/com.mbeddr.cc.var.fm" 
				prefix="mbeddr/cc/languages/com.mbeddr.cc.var.fm"/>
          <zipfileset dir="code/languages/com.mbeddr.cc/languages/com.mbeddr.cc.var.annotations" 
				prefix="mbeddr/cc/languages/com.mbeddr.cc.var.annotations"/>
          <zipfileset dir="code/languages/com.mbeddr.cc/languages/com.mbeddr.cc.var.buildconfig" 
				prefix="mbeddr/cc/languages/com.mbeddr.cc.var.buildconfig"/>
          <zipfileset dir="code/languages/com.mbeddr.cc/devkits/com.mbeddr.cc.variability" 
				prefix="mbeddr/cc/devkits/com.mbeddr.cc.variability"/>
	  </zip>
	  <copy file="documentation/userguide_mbeddr.cc/userguide_mbeddr.cc.pdf" tofile="${path}/userguide_mbeddr.cc.pdf"/>
	  

	  
	  
      <createHtml path="${path}" version="${version}" webRoot="${webRoot}"/> 
		

  </target>
  
</project>
